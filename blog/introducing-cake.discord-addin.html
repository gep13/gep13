
<!DOCTYPE html>
<html lang="en">
        <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

        <title>Gary Ewan Park - Introducing the Cake.Discord Addin</title>
        <meta name="description" content="Ramblings and Ponderings of a Microsoft Fan Boy..." />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">        

        <link type="application/rss+xml" rel="alternate" title="Gary Ewan Park" href="/feed.rss" />
                <link type="application/atom+xml" rel="alternate" title="Gary Ewan Park" href="/feed.atom" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <link href="/assets/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/clean-blog.css" rel="stylesheet" />
        <link href="/assets/css/master.css" rel="stylesheet" />
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
        <link href="/assets/css/override.css" rel="stylesheet" />


        <meta name="application-name" content="Gary Ewan Park" />
        <meta name="msapplication-tooltip" content="Gary Ewan Park" />
        <meta name="msapplication-starturl" content="/" />

        <meta property="og:title" content="Gary Ewan Park - Introducing the Cake.Discord Addin" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="http://www.gep13.co.uk/blog/introducing-cake.discord-addin" />
        <!-- TODO: More social graph meta tags -->

        <script src="/assets/js/jquery.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>     
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/clean-blog.js"></script>
        <script src="/assets/js/d3.v3.min.js"></script>
        <script src="/assets/js/trianglify.min.js"></script>
        <script src="/assets/js/please-compressed.js"></script>
        <script src="/assets/js/background-check.min.js"></script>
                
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
                <script src="/assets/js/html5shiv.js"></script>
                <script src="/assets/js/respond.min.js"></script>
        <![endif]-->
        
        


        </head>
        <body>
                
                <!-- Navigation -->
                <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
                        <div class="container-fluid">
                                <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header page-scroll">
                                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        </button>
                                        <a class="navbar-brand" href="/">Gary Ewan Park</a>
                                </div>
                        
                                <!-- Collect the nav links, forms, and other content for toggling -->
                                <div class="collapse navbar-collapse" id="navbar-collapse">
                                        <ul class="nav navbar-nav navbar-right">
                                                <li><a href="/about">About</a></li>
<li><a href="/projects">Projects</a></li>
<li><a href="/talks">Talks</a></li>
<li><a href="/blog">Archive</a></li>
<li><a href="/contact">Contact</a></li>
<li><a href="/tags">Tags</a></li> 
                                        </ul>
                                </div>
                                <!-- /.navbar-collapse -->
                        </div>
                        <!-- /.container -->
                </nav>
                
                <!-- Page Header -->
                <header class="intro-header" id="intro-header">
                        <div class="container">
                                <div class="row">
                                        <div class="col-md-12">

    
<div class="post-heading">
    <h1>Introducing the Cake.Discord Addin</h1>
    <div class="meta">        
Published on 28 October 2018<br>    </div>
        <div class="tags">
                    <a role="button" href="/tags/addins" class="btn btn-default btn-xs">addins</a>
                    <a role="button" href="/tags/automation" class="btn btn-default btn-xs">automation</a>
                    <a role="button" href="/tags/build" class="btn btn-default btn-xs">build</a>
                    <a role="button" href="/tags/cake" class="btn btn-default btn-xs">cake</a>
                    <a role="button" href="/tags/cake-contrib" class="btn btn-default btn-xs">cake-contrib</a>
                    <a role="button" href="/tags/discord" class="btn btn-default btn-xs">discord</a>
        </div>     
</div>
                                        </div>
                                </div>
                        </div>
                </header>
                
                <!-- Main Content -->
                <div class="container">
                        <div class="row">
                                <div id="content" class="col-md-12">
                                        

<h1 id="what-is-it">What is it?</h1>
<p><a href="https://www.nuget.org/packages/Cake.Discord/">Cake.Discord</a> is an addin for Cake that allows you to send messages to a Discord Channel on a Server.  This allows for example sending a notification to a channel when a build fails, or succeeds.  Or perhaps when a new release of an application has been created.</p>
<p><strong>NOTE:</strong> While it is possible to send much more complicated messages to a Discord server, this initial release of the addin only caters for the basic versions of the messages.</p>
<h1 id="usage">Usage</h1>
<p>To get started using this addin, all you need to do is add the following to your Cake script:</p>
<pre><code class="language-csharp">#addin &quot;nuget:https://www.nuget.org/api/v2?package=Cake.Discord&amp;version=0.1.0&quot;
</code></pre>
<p><strong>NOTE:</strong> Depending on the currently released version, you might want to change the above to reflect the current version number. The above is shown to ensure that the best practice of pinning your Cake Addin version numbers is adhered to.</p>
<p>With that done, you can then send a basic message using something like the following:</p>
<pre><code class="language-csharp">Information(&quot;This is a 'normal' message...&quot;);

var postMessageResult = Discord.Chat.PostMessage(
    webHookUrl:&quot;https://your_web_hook_url&quot;,
    content:&quot;This is a normal message.&quot;
);

if (postMessageResult.Ok)
{
    Information(&quot;Message {0} successfully sent&quot;, postMessageResult.TimeStamp);
}
else
{
    Error(&quot;Failed to send message: {0}&quot;, postMessageResult.Error);
}
</code></pre>
<p>It is also possible to send a more complex message using something like the following:</p>
<pre><code class="language-csharp">Information(&quot;This is a custom avatar and name message...&quot;);

var postMessageResult = Discord.Chat.PostMessage(
    webHookUrl:&quot;https://your_web_hook_url&quot;,
    content:&quot;This is a custom avatar and name message.&quot;,
    messageSettings: new DiscordChatMessageSettings {
        UserName = &quot;gep13&quot;,
        AvatarUrl = new Uri(&quot;https://avatars0.githubusercontent.com/u/1271146?s=400&amp;v=4&quot;)
    }
);

if (postMessageResult.Ok)
{
    Information(&quot;Message {0} successfully sent&quot;, postMessageResult.TimeStamp);
}
else
{
    Error(&quot;Failed to send message: {0}&quot;, postMessageResult.Error);
}
</code></pre>
<h1 id="documentation">Documentation</h1>
<p>You can find additional documentation for this addin here:</p>
<p><a href="https://cake-contrib.github.io/Cake.Discord/">https://cake-contrib.github.io/Cake.Discord/</a></p>
<h1 id="source-code">Source Code</h1>
<p>The source code for this addin can be found here:</p>
<p><a href="https://github.com/cake-contrib/Cake.Discord">https://github.com/cake-contrib/Cake.Discord</a></p>
<h2 id="chat-room">Chat Room</h2>
<p>If you have any questions about this addin, then please feel to drop into the Gitter Chat room for all the addins and modules which exist in the <a href="https://github.com/cake-contrib">cake-contrib organisation</a> on GitHub:</p>
<p><a href="https://gitter.im/cake-contrib/Lobby?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/cake-contrib/Lobby.svg" class="img-fluid" alt="Join the chat at https://gitter.im/cake-contrib/Lobby" /></a></p>
<h2 id="other-notification-addins">Other Notification Addins</h2>
<p>This addin adds to the collection of addins which help with sending notifications out to the various platforms that exist.  For example, there are addins to help with sending notifications to:</p>
<ul>
<li><a href="https://github.com/cake-contrib/Cake.CakeMail/">CakeMail</a></li>
<li><a href="https://github.com/cake-contrib/Cake.Email/">Email</a></li>
<li><a href="https://github.com/cake-contrib/Cake.Gitter/">Gitter</a></li>
<li><a href="https://github.com/cake-contrib/Cake.HipChat/">HipChat</a></li>
<li><a href="https://github.com/Ninglin/Cake.Jira/">Jira</a></li>
<li><a href="https://github.com/cake-contrib/Cake.MicrosoftTeams/">Microsoft Teams</a></li>
<li><a href="https://github.com/cake-contrib/Cake.SendGrid/">SendGrid</a></li>
<li><a href="https://github.com/cake-contrib/Cake.Slack/">Slack</a></li>
<li><a href="https://github.com/cake-contrib/Cake.Twitter/">Twitter</a></li>
</ul>
<p>Are there any other notification systems that you feel should be catered for in Cake?  If so, feel free to reach out, or create your own.</p>


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'gep13'; // required: replace example with your forum shortname
    var disqus_identifier = 'http://www.gep13.co.uk/blog/introducing-cake.discord-addin' + 'S/';
    var disqus_title = 'Introducing the Cake.Discord Addin';
    var disqus_url = 'http://www.gep13.co.uk/blog/introducing-cake.discord-addin' + '/';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                                </div>
                        </div>
                </div>
                
                <hr>
                
                <!-- Footer -->
                <footer>
                        <div class="container">
        <div class="row">
                <div class="col-md-12">
                <ul class="list-inline text-center">
                        <li>
                        <a href="https://twitter.com/gep13">
                                <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                        </a>
                        </li>
                        <li>
                        <a href="https://github.com/gep13">
                                <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                        </a>
                        </li>
                </ul>
                <p class="copyright text-muted">
                        Copyright © 2019 by Gary Ewan Park. The opinions expressed herein are my own and do not represent those of my employer or any other third-party views in any way. This work is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>.
                        <br />
                        <a href="/feed.rss"><i class="fa fa-rss"></i> RSS Feed</a> | <a href="/feed.atom"><i class="fa fa-rss"></i> Atom Feed</a>
                        <br />
                        <a href="https://github.com/gep13/gep13.github.io"><i class="fa fa-github"></i> This Site on GitHub</a> | <strong><a href="https://wyam.io">Generated by Wyam</a></strong>
                </p>
                </div>
        </div>
</div>
                </footer> 

                <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'gep13'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());

    // Google Analytics
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-20926037-1', 'auto');
    ga('send', 'pageview');
</script>

<script type="text/javascript" src="/assets/js/anchor.min.js"></script>
<script type="text/javascript" src="/assets/js/clipboard.min.js"></script>
<script type="text/javascript">
    anchors.options.placement = 'left';
    anchors.add();

    var snippets = document.querySelectorAll("pre > code");
    [].forEach.call(snippets, function(snippet) {
        snippet.insertAdjacentHTML("beforebegin", "<button class='btn-copy' data-clipboard-snippet><img class='clippy' width=13 src='/assets/images/clippy.svg' alt='Copy to clipboard'></button>");
    });
    var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
        target: function(trigger) {
            return trigger.nextElementSibling;
        }
    });
    clipboardSnippets.on('success', function(e) {
        e.clearSelection();
        showTooltip(e.trigger, "Copied!");
    });
    clipboardSnippets.on('error', function(e) {
        showTooltip(e.trigger, fallbackMessage(e.action));
    });
</script>
                <script>hljs.initHighlightingOnLoad();</script>

                        <script type="text/javascript">                
                                // Header background                        
                                var colors = Please.make_color({
                                        colors_returned: 3,
                                        saturation: .6
                                });
                                var t = new Trianglify({
                                        x_gradient: colors,
                                        y_gradient: ["#FFFFFF"]
                                });
                                var header = document.getElementById("intro-header");
                                var pattern = t.generate(header.clientWidth, header.clientHeight);
                                header.setAttribute('style', 'background-image: ' + pattern.dataUrl);                        
                        </script>

                <script>
                        BackgroundCheck.init({
                                targets: '.intro-header,.navbar',
                                images: '.intro-header'
                        });
                </script>
        </body>
</html>

